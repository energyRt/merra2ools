<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R-tools to process MERRA-2 data (NASA) with focus on renewable energy  • merra2ools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R-tools to process MERRA-2 data (NASA) with focus on renewable energy ">
<meta property="og:description" content="A toolbox for evaluation of hourly availability of solar and wind 
    energy potential globally, based on MERRA-2 satellite reanalysis data subset 
    (requires the data download from: https://doi.org/10.5061/dryad.v41ns1rtt). ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-00GHMPMM37"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-00GHMPMM37');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">merra2ools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.03</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/merra2ools.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/merra2.html">MERRA-2 subset</a>
    </li>
    <li>
      <a href="articles/solarpower.html">Solar Power</a>
    </li>
    <li>
      <a href="articles/windpower.html">Wind Power</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/energyRt/merra2ools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="merra2ools">merra2ools<a class="anchor" aria-label="anchor" href="#merra2ools"></a>
</h1></div>
<p>(UNDER CONSTRUCTION)</p>
<p>manuals: <a href="https://energyRt.github.io/merra2ools/" class="uri">https://energyRt.github.io/merra2ools/</a><br>
dataset: <a href="https://doi.org/10.5061/dryad.v41ns1rtt" class="external-link uri">https://doi.org/10.5061/dryad.v41ns1rtt</a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"energyRt/merra2ools"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"energyRt/merra2sample"</span><span class="op">)</span> <span class="co"># optional - example dataset</span></span></code></pre></div>
<p>Download datasets from <a href="https://doi.org/10.5061/dryad.v41ns1rtt" class="external-link uri">https://doi.org/10.5061/dryad.v41ns1rtt</a> to a local folder. It is not required to download all the data, but it is suggested to download at least for one full year (12 months).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://energyRt.github.io/merra2ools/">merra2ools</a></span><span class="op">)</span></span>
<span><span class="co"># link the package with the downloaded data</span></span>
<span><span class="fu"><a href="reference/merra2.html">set_merra2_options</a></span><span class="op">(</span>merra2.dir <span class="op">=</span> <span class="st">"PATH TO THE DOWNLOADED DATA"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/merra2.html">get_merra2_dir</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># check if the path is saved</span></span>
<span><span class="fu"><a href="reference/merra2.html">check_merra2</a></span><span class="op">(</span>detailed <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>See <a href="https://energyrt.github.io/merra2ools/articles/merra2ools.html" class="external-link uri">https://energyrt.github.io/merra2ools/articles/merra2ools.html</a> or `vignette(“merra2ools”, “merra2ools”) for details.</p>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><em>merra2ools</em> is a dataset and R-package for evaluation of potential output of variable energy sources (VER) wind and solar energy globally, based on 40+ years of hourly MERRA-2 data. The primary purpose of the <code>merra2ools</code> R package is to provide a quick access to the MERRA-2 subset to energy modelers and analysts, sufficient for evaluation VER hourly potential. The database of relevant MERRA-2 indicators has been assembled and published on</p>
<p>that offers data and tools to estimate</p>
<p>long-term subset of</p>
<p>that provides</p>
<p>package offers a set of tools and MERRA-2 data subset to evaluate hourly output potential of solar and wind energy sources, as well as precipitations for weather-dependent hydro power output. The goal of the project is to provide both - the dataset and algorithms to estimate potential output and so-called capacity factors for variable energy sources, used as an input data in energy system modeling and broader application. To keep the size of the database lower than 300Gb for online publication, the original subset of MERRA-2 time series have been minimally processed, rounded, and saved as scaled integers in highly compressed format provided by <a href="https://www.fstpackage.org/index.html" class="external-link"><code>fst</code></a> package.<br>
The <em>merra2ools</em> dataset has 41 years (1980-2000) of the hourly time-series:<br>
- <strong>UTC</strong> - date and time (key) in Coordinated Universal Time (UTC) timezone;<br>
- <strong>locid</strong> - location IDs (key), an index of locations in MERRA-2 dataset, from 1 to 207936;<br>
- <strong>W10M</strong> - 10-meter wind speed (calculated <code>sqrt(V10M^2 + U10M^2)</code> where <code>V10M</code> and <code>U10M</code> are northward and eastward wind at 10-meter, m/s, rounded to the first decimal place);<br>
- <strong>W50M</strong> - 50-meter wind speed (calculated <code>sqrt(V50M^2 + U50M^2)</code> where <code>V50M</code> and <code>U50M</code> are northward and eastward wind at 50-meter, m/s, rounded to the first decimal place);<br>
- <strong>WDIR</strong> - Direction of wind at 50-meter height (calculated <code>atan2(V50M/U50M)</code>, rounded to tens);<br>
- <strong>T10M</strong> - 10-meter air temperature (Celsius, rounded to the nearest integer);<br>
- <strong>SWGDN</strong> - Incident shortwave land (W/m^2, rounded to the nearest integer);<br>
- <strong>ALBEDO</strong> - Surface albedo (index [0,1], rounded to second decimal place);<br>
- <strong>PRECTOTCORR</strong> - Bias corrected total precipitation (kg/m^2/hour, rounded to the first decimal place);<br>
- <strong>RHOA</strong> - Air density at surface (kg/m^2, rounded to second decimal place).</p>
<p>Representation of wind with three variables (<code>W10M</code>, <code>W50M</code>, <code>WDIR</code>) is the main difference from the original MERRA-2 data (<code>V10M</code>, <code>U10M</code>, <code>V50M</code>, <code>U50M</code>). This conversion reduces the size of the database and further computational burden of wind power capacity factors.</p>
<p>All variables are hourly averages, UTC-time is given for a middle of every hour.</p>
<p>The <em>merra2ools</em> package includes:<br>
- MERRA-2 grid information and functions to match geo-locations with MERRA-2 grid;<br>
- functions to read and subset data from the compressed files (<code>fst</code> format);<br>
- functions and methods to evaluate solar photovoltaics hourly output/capacity factors;<br>
- functions and methods wind speed extrapolation for higher altitudes (50-200+ meters) and estimate wind power capacity factors;<br>
- functions to fetch data from NREL’s PVWatts model and the dataset by locations (with a goal of validation the POA model and the data);<br>
- functions and methods for “quick” figures and animated gif figures for instant evaluation of the data and the used methodology;<br>
- long term summary statistics of the provided time series for purpose of clustering and aggregation in further modeling and analytics.</p>
</div>
<div class="section level2">
<h2 id="solar-power">Solar Power<a class="anchor" aria-label="anchor" href="#solar-power"></a>
</h2>
<p>The package reproduces basic algorithms of solar geometry, irradiance decomposition, and the Plane-Of-Array models for different types of solar PV trackers. See <a href="https://energyrt.github.io/merra2ools/articles/solarpower.html" class="external-link uri">https://energyrt.github.io/merra2ools/articles/solarpower.html</a> or <code><a href="articles/solarpower.html">vignette("solarpower", package = "merra2ools")</a></code> for details.</p>
<p><img src="reference/figures/ghi_40y_avr_24steps.png" width="2550"></p>
</div>
<div class="section level2">
<h2 id="wind-power">Wind power<a class="anchor" aria-label="anchor" href="#wind-power"></a>
</h2>
<p>See <a href="https://energyrt.github.io/merra2ools/articles/windpower.html" class="external-link uri">https://energyrt.github.io/merra2ools/articles/windpower.html</a> or <code><a href="articles/windpower.html">vignette("windpower", package = "merra2ools")</a></code> for details.<br><img src="reference/figures/wind_50m_40y_avr_24steps.png" width="3150"></p>
<p>See <a href="https://energyrt.github.io/merra2ools/articles/merra2.html" class="external-link uri">https://energyrt.github.io/merra2ools/articles/merra2.html</a> or <code><a href="articles/merra2.html">vignette("merra2", package = "merra2ools")</a></code> for all included timeseries.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/energyRt/merra2ools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/energyRt/merra2ools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>AGPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing merra2ools</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Oleg Lugovoy <br><small class="roles"> Author, maintainer </small>  </li>
<li>Shuo Gao <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Oleg Lugovoy, Shuo Gao.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
